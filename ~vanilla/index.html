<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ember Starter Kit</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script type="text/x-handlebars">
    {{#if notification}}
      <div {{bindAttr class=":alert :fade :in notification.type"}} id="notification">
        <span class="close" data-dismiss="alert" {{action "closeNotification"}}>&times;</span>
        {{#if notification.title}}
          <strong>{{notification.title}}</strong>
        {{/if}}
        {{notification.message}}
      </div>
    {{/if}}

    {{#if session.isAuthenticated }}
      <nav class="pushy pushy-left">

        <div class="nav_user">
          <p>{{session.user_name}}</p>
          <p class="user_account">{{#link-to 'account-settings'}}<img src="assets/images/gear.png" />{{/link-to}}</p>
        </div>

        <ul>
            <li>{{#link-to 'horses'}}My Horses{{/link-to}}</li>
            <li>{{#link-to 'veterinarians'}}Veterinarians{{/link-to}}</li>
            <li>{{#link-to 'documents'}}Documents{{/link-to}}</li>
            <li>{{#link-to 'notes'}}Notes{{/link-to}}</li>
            <li>{{#link-to "horse.weight-calculator" session.horse}}Weight Calculator{{/link-to}}</li>
            <li>{{#link-to "horse.links" session.horse}}Links{{/link-to}}</li>
        </ul>

        <ul>
          <li><a {{action 'invalidateSession'}}>Logout</a></li>
        </ul>
      </nav>

      <div class="site-overlay"></div>

      <div id="push_wrap">
        {{outlet header}}
    {{/if}}
    {{outlet}}
    {{#if session.isAuthenticateded }}
      </div>
    {{/if}}
  </script>

  <script type="text/x-handlebars" id="basic-header-plus">
    <div class="navigation_bar">
      <div class="menu-btn">&#9776;</div>
      <div class="section_title"></div>
      <div class="navright"><img src="assets/images/add_button.png" {{action 'newObject'}} /></div>
    </div>
  </script>

  <script type="text/x-handlebars" id="index">
    <ul>
    {{#each item in model}}
      <li>{{item}}</li>
    {{/each}}
    </ul>
  </script>

  <script type="text/x-handlebars" id="login">
    <div class="container">
      <div class="login_hdr">
        <img src="assets/images/login_splash.jpg" alt="Pocket Stable" />
      </div>
      <div class="login_form">
        <form {{action 'authenticate' on='submit'}}>
          {{input id='identification' placeholder='Email' value=identification class="login_field"}}
          {{input id='password' placeholder='Password' type='password' value=password class="login_field"}}
          <input class="red" type="submit" value="Login">
        </form>
      </div>

      <div class="login_ftr">
        <p>Need an account?</p>
        {{#link-to 'signup'}}<button class="outline">Sign Up Free!</button>{{/link-to}}
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="signup">
    <div class="container">
      <div class="login_hdr"><img src="assets/images/login_splash.jpg" alt="Pocket Stable" /></div>
      <div class="login_form">
        <form {{action 'createUser' on='submit'}}>
          {{input id='name' placeholder='Name' value=name class="login_field"}}
          {{input id='email' placeholder='Email' value=email class="login_field"}}
          {{input id='password' placeholder='Password' value=password type='password' class="login_field"}}
          <input class="red" type="submit" value="Sign Up">
        </form>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="horses">
    {{outlet}}
  </script>

  <script type="text/x-handlebars" id="horses/index">
    <div id="container">
      <div class="page_title"></div>
      {{#each horse in filteredContent}}
        <ol class="card">
          <li class="card_info">
            {{#link-to 'horse' this.horse}}
              {{#if horse.avatar.avatar.thumb.url}}
                <img {{bind-attr src="horse.avatar.avatar.thumb.url"}} />
              {{else}}
                <img src="assets/images/horseFPO.jpg" />
              {{/if}}
              <h3>{{horse.nick_name}}</h3>
              <p>{{horse.name}}</p>
              <p class="card_breed">Breed</p>
              <p>{{horse.breed}}</p>
            {{/link-to}}
          </li>
        </ol>
      {{/each}}
    </div>
  </script>

  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/handlebars/handlebars.js"></script>
  <script src="bower_components/ember/ember.js"></script>
  <script src="bower_components/ember-data/ember-data.js"></script>
  <script src="js/libs/ember-simple-auth-0.6.7.js"></script>
  <script src="js/libs/ember-simple-auth-devise-0.6.7.js"></script>
  <script src="js/app.js"></script>
  <!-- to activate the test runner, add the "?test" query string parameter -->
  <script src="tests/runner.js"></script>
</body>
</html>
